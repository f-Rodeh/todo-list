(()=>{"use strict";const t=(t,n=null,s=null)=>{let o=[];return{title:t,color:n,icon:s,uid:e(),addTask:function(t){const n=e(o);t.uid=n,o.push(t)},getTasks:function(){return o},removeTask:function(t){const e=o.findIndex((e=>e.uid===t));console.log({index:e}),e>=0&&o.splice(e,1)}}};function e(t){let n="i";if(n+=function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let t=0;t<6;t++)n+=e[(61*Math.random()).toFixed()];return n}(),o=n,!(s=t)||s.every((t=>t.id!==o)))return n;var s,o;e(t)}const n=(t,e="",n,s=0)=>{const o=function(){let t=[];return{getComments:function(){return t},addComment:function(e){t.push(e)}}}(),a=function(){let t=null;return{setDueDate:function(e){const n=new Date(e);!function(t){return!isNaN(t)}(n)?console.warn("Date not set: Invalid date"):t=n},getDueDate:function(){return t}}}();return a.setDueDate(n),Object.assign({title:t,description:e,isDone:!1,priority:s},o,a)};function s(t){if(!t.hasOwnProperty("type"))return;const e=document.createElement(t.type);for(const n in t)"type"!==n&&Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}const o=s({type:"div",classList:["new-folder card"]});o.append(function(t){const e=document.createElement("ion-icon");return e.classList.add("md","hydrated"),e.setAttribute("role","img"),e.setAttribute("name",t),e}("add-outline"),s({type:"span",textContent:"New Folder",classList:["subtitle"]}));const a=s({type:"header"});a.append(s({type:"img",src:"https://img.logoipsum.com/246.svg"}),s({type:"span",textContent:"TO DEW"}));const i=s({type:"nav"});i.append(s({type:"span",textContent:"My Folders"}));let c=s({type:"main"});function r(t){c.replaceWith(t),c=t}function d(t,e=""){if(e)return e.substring(0,t-3)+"..."}document.body.append(a,i,c);const u=n("Task 1"),l=n("Task 2","This is a very long text that resembles a description"),p=t("Example 1"),f=t("Example 2");p.addTask(u),p.addTask(l);let m=[p,f];const y=document.querySelector("nav"),h=function(t){const e=s({type:"main"});return e.classList.add("dashboard"),e.append(o),t?(t.forEach((t=>{const n=function(t){const e=s({type:"div",classList:["folder card"]});e.dataset.uid=t.uid;let n=t.getTasks().length;return e.append(s({type:"h3",textContent:t.title,classList:["title"]}),s({type:"span",classList:["subtitle"],textContent:(o=n,`${o} ${1===o?"task":"tasks"}`)})),e;var o}(t);e.append(n)})),e):e}([p,f]);r(h),document.querySelectorAll(".folder").forEach((t=>{t.addEventListener("click",(()=>{var e;!function(t){const e=document.createElement("span");e.textContent=t.title,e.dataset.uid=t.uid,y.append(e);const n=function(t){const e=document.createElement("main"),n=function(t){const e=document.createElement("section");return e.id="task-list",t.forEach((t=>{const n=function(t){const e=document.createElement("div");return e.classList.add("card"),e.append(s({type:"h3",classList:["title"],textContent:t.title}),s({type:"span",classList:["subtitle"],textContent:d(50,t.description)})),e}(t);e.append(n)})),e}(t.getTasks());return e.append(n),e}(t);r(n)}((e=t.dataset.uid,m.find((t=>t.uid===e))))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9DLFFBQVF2RixJQWlCckJnRixFQUFRcUIsTUFBTWhDLEdBQVlBLEVBQVFyRSxNQUFRc0IsS0FmdkIsR0FDekIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2dpYy9mb2xkZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2xvZ2ljL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Rpc3BsYXkvZG9tLXV0aWxpdHkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Rpc3BsYXkvZGFzaGJvYXJkLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9kaXNwbGF5L2hvbWUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Rpc3BsYXkvZm9sZGVyLXZpZXcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IEZvbGRlciB9XG5cbmNvbnN0IEZvbGRlciA9ICh0aXRsZSwgY29sb3IgPSBudWxsLCBpY29uID0gbnVsbCkgPT4ge1xuXG4gIGxldCB0YXNrcyA9IFtdXG4gIGNvbnN0IHVpZCA9IGdlbmVyYXRlVWlkKClcblxuICBmdW5jdGlvbiBhZGRUYXNrKHRhc2spIHtcbiAgICBjb25zdCB1aWQgPSBnZW5lcmF0ZVVpZCggdGFza3MgKTtcbiAgICB0YXNrLnVpZCA9IHVpZDtcbiAgICB0YXNrcy5wdXNoKHRhc2spO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVGFzayggdGFza1VpZCApe1xuICAgIGNvbnN0IGlzVGFyZ2V0ID0gKHRhc2spID0+ICB0YXNrLnVpZCA9PT0gdGFza1VpZDtcbiAgICBjb25zdCBpbmRleCA9IHRhc2tzLmZpbmRJbmRleCggaXNUYXJnZXQgKVxuICAgIGNvbnNvbGUubG9nKHtpbmRleH0pXG4gICAgaWYgKGluZGV4ID49IDApIHRhc2tzLnNwbGljZShpbmRleCwgMSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhc2tzKCl7XG4gICAgcmV0dXJuIHRhc2tzXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRpdGxlLFxuICAgIGNvbG9yLFxuICAgIGljb24sXG4gICAgdWlkLFxuICAgIGFkZFRhc2ssXG4gICAgZ2V0VGFza3MsXG4gICAgcmVtb3ZlVGFza1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSWRBdmFpbGFibGUoIGFycmF5LCBpZCApe1xuICBpZiAoIWFycmF5KSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gYXJyYXkuZXZlcnkoKHRhc2spID0+IHRhc2suaWQgIT09IGlkICk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVWlkKCBpZEFycmF5ICl7XG4gIGxldCBvdXRwdXQgPSAnaSdcbiAgb3V0cHV0Kz0gcmFuZG9tU3RyaW5nKDYpO1xuXG4gIGlmKCBpc0lkQXZhaWxhYmxlKGlkQXJyYXksIG91dHB1dCkgKXtcbiAgICByZXR1cm4gb3V0cHV0XG4gIH0gZWxzZSB7XG4gICAgZ2VuZXJhdGVVaWQoIGlkQXJyYXkgKVxuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVN0cmluZyggbGVuZ3RoICl7XG4gIGNvbnN0IGNoYXJhY3RlcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCkgKiAoY2hhcmFjdGVycy5sZW5ndGgtMSkgO1xuICAgIGNvbnN0IGluZGV4ID0gcmFuZG9tLnRvRml4ZWQoKTtcbiAgICBvdXRwdXQgKz0gY2hhcmFjdGVyc1tpbmRleF1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXRcbn0iLCJleHBvcnQgeyBUYXNrIH0gXG5cbmNvbnN0IFRhc2sgPSAoIHRpdGxlLCBkZXNjcmlwdGlvbiA9ICcnLCBkdWVEYXRlLCBwcmlvcml0eSA9IDAgKSA9PiB7XG5cbiAgY29uc3QgY29tbWVudE1hbmFnZXIgPSBDb21tZW50TWFuYWdlcigpXG4gIGNvbnN0IGRhdGVNYW5hZ2VyID0gRGF0ZU1hbmFnZXIoKVxuICBkYXRlTWFuYWdlci5zZXREdWVEYXRlKCBkdWVEYXRlIClcblxuICBsZXQgaXNEb25lID0gZmFsc2U7XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGlzRG9uZSxcbiAgICBwcmlvcml0eVxuICAgIH0sXG4gICAgY29tbWVudE1hbmFnZXIsXG4gICAgZGF0ZU1hbmFnZXJcbiAgKVxufVxuXG5mdW5jdGlvbiBDb21tZW50TWFuYWdlcigpIHtcbiAgbGV0IGNvbW1lbnRzID0gW107XG5cbiAgZnVuY3Rpb24gZ2V0Q29tbWVudHMoKXtcbiAgICByZXR1cm4gY29tbWVudHNcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENvbW1lbnQoIGNvbW1lbnQgKXtcbiAgICBjb21tZW50cy5wdXNoKCBjb21tZW50IClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0Q29tbWVudHMsXG4gICAgYWRkQ29tbWVudFxuICB9XG59XG5cbmZ1bmN0aW9uIERhdGVNYW5hZ2VyKCl7XG4gIGxldCBkdWVEYXRlID0gbnVsbDtcblxuICBmdW5jdGlvbiBzZXREdWVEYXRlKCBpbnB1dCApe1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSggaW5wdXQgKTtcblxuICAgIGlmKCBkYXRlSXNWYWxpZChuZXdEYXRlKSApIHtcbiAgICAgIGR1ZURhdGUgPSBuZXdEYXRlXG4gICAgfSBlbHNlIGNvbnNvbGUud2FybignRGF0ZSBub3Qgc2V0OiBJbnZhbGlkIGRhdGUnKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0RHVlRGF0ZSgpe1xuICAgIHJldHVybiBkdWVEYXRlXG4gIH1cblxuICBmdW5jdGlvbiBkYXRlSXNWYWxpZCggaW5wdXQgKXtcbiAgICByZXR1cm4gIWlzTmFOKCBpbnB1dCApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXREdWVEYXRlLFxuICAgIGdldER1ZURhdGVcbiAgfVxufSIsImV4cG9ydCB7IG1ha2VFbGVtZW50LCBtYWtlSWNvbiB9XG5cbmZ1bmN0aW9uIG1ha2VFbGVtZW50KCBvYmogKXtcbiAgaWYoIW9iai5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSByZXR1cm5cbiAgY29uc3Qgb3V0cHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggb2JqLnR5cGUgKVxuXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmICgga2V5ID09PSAndHlwZScgKSBjb250aW51ZVxuICAgIGlmICghT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBjb250aW51ZVxuICAgIG91dHB1dFtrZXldID0gb2JqW2tleV07XG4gIH1cblxuICByZXR1cm4gb3V0cHV0XG59XG5cbmZ1bmN0aW9uIG1ha2VJY29uKCBuYW1lICl7XG4gIGlmKCFuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGljb24gbmFtZSBwcm92aWRlZCcpXG5cbiAgY29uc3Qgb3V0cHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW9uLWljb24nKTtcbiAgb3V0cHV0LmNsYXNzTGlzdC5hZGQoJ21kJywnaHlkcmF0ZWQnKVxuICBvdXRwdXQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2ltZycpXG4gIG91dHB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBuYW1lKVxuXG4gIHJldHVybiBvdXRwdXRcbn0iLCJpbXBvcnQgeyBtYWtlRWxlbWVudCwgbWFrZUljb24gfSBmcm9tIFwiLi9kb20tdXRpbGl0eVwiXG5cbmV4cG9ydCB7IG1ha2VEYXNoYm9hcmQgfVxuXG5jb25zdCBidXR0b25OZXdGb2xkZXIgPSBtYWtlRWxlbWVudCh7XG4gIHR5cGU6ICdkaXYnLFxuICBjbGFzc0xpc3Q6IFsnbmV3LWZvbGRlciBjYXJkJ11cbn0pXG5cbmJ1dHRvbk5ld0ZvbGRlci5hcHBlbmQoXG4gIG1ha2VJY29uKCdhZGQtb3V0bGluZScpLFxuICBtYWtlRWxlbWVudCh7XG4gICAgdHlwZTogJ3NwYW4nLFxuICAgIHRleHRDb250ZW50OiAnTmV3IEZvbGRlcicsXG4gICAgY2xhc3NMaXN0OiBbJ3N1YnRpdGxlJ11cbiAgfSksXG4pXG5cbmZ1bmN0aW9uIG1ha2VEYXNoYm9hcmQoIGZvbGRlcnMgKXtcbiAgY29uc3QgbWFpbiA9IG1ha2VFbGVtZW50KHt0eXBlOiAnbWFpbid9KVxuICBtYWluLmNsYXNzTGlzdC5hZGQoJ2Rhc2hib2FyZCcpXG4gIG1haW4uYXBwZW5kKCBidXR0b25OZXdGb2xkZXIgKVxuXG4gIGlmICghZm9sZGVycykgcmV0dXJuIG1haW5cblxuICBmb2xkZXJzLmZvckVhY2goIGl0ZW0gPT4ge1xuICAgIGNvbnN0IGNhcmQgPSBtYWtlRm9sZGVyQ2FyZCggaXRlbSApXG4gICAgbWFpbi5hcHBlbmQoIGNhcmQgKVxuICB9KTtcblxuICByZXR1cm4gbWFpblxufVxuXG5mdW5jdGlvbiBtYWtlRm9sZGVyQ2FyZCggZm9sZGVyICl7XG4gIGNvbnN0IG91dHB1dCA9IG1ha2VFbGVtZW50KHtcbiAgICB0eXBlOiAnZGl2JyxcbiAgICBjbGFzc0xpc3Q6IFsnZm9sZGVyIGNhcmQnXVxuICB9KVxuICBcbiAgb3V0cHV0LmRhdGFzZXQudWlkID0gZm9sZGVyLnVpZFxuICBsZXQgaXRlbUNvdW50ID0gZm9sZGVyLmdldFRhc2tzKCkubGVuZ3RoXG5cbiAgb3V0cHV0LmFwcGVuZChcbiAgICBtYWtlRWxlbWVudCh7XG4gICAgICB0eXBlOiAnaDMnLFxuICAgICAgdGV4dENvbnRlbnQ6IGZvbGRlci50aXRsZSxcbiAgICAgIGNsYXNzTGlzdDogWyd0aXRsZSddXG4gICAgfSksXG4gICAgbWFrZUVsZW1lbnQoe1xuICAgICAgdHlwZTogJ3NwYW4nLFxuICAgICAgY2xhc3NMaXN0OiBbJ3N1YnRpdGxlJ10sXG4gICAgICB0ZXh0Q29udGVudDogZm9ybWF0SXRlbUNvdW50KGl0ZW1Db3VudClcbiAgICB9KVxuICApXG4gIHJldHVybiBvdXRwdXRcbn1cblxuZnVuY3Rpb24gZm9ybWF0SXRlbUNvdW50KCBjb3VudCApe1xuICBjb25zdCBzdWZmaXggPSBjb3VudCA9PT0gMSA/ICd0YXNrJyA6ICd0YXNrcydcbiAgcmV0dXJuIGAke2NvdW50fSAke3N1ZmZpeH1gXG59IiwiaW1wb3J0IHsgbWFrZURhc2hib2FyZCB9IGZyb20gXCIuL2Rhc2hib2FyZFwiO1xuaW1wb3J0IHsgbWFrZUVsZW1lbnQgfSBmcm9tIFwiLi9kb20tdXRpbGl0eVwiO1xuZXhwb3J0IHsgbG9hZFBhZ2UsIHNldFBhZ2VDb250ZW50IH1cblxuY29uc3QgaGVhZGVyID0gbWFrZUVsZW1lbnQoe3R5cGU6ICdoZWFkZXInfSk7XG5oZWFkZXIuYXBwZW5kKFxuICBtYWtlRWxlbWVudCh7XG4gICAgdHlwZTogJ2ltZycsIFxuICAgIHNyYzogJ2h0dHBzOi8vaW1nLmxvZ29pcHN1bS5jb20vMjQ2LnN2ZydcbiAgfSksXG4gIG1ha2VFbGVtZW50KHtcbiAgICB0eXBlOiAnc3BhbicsIFxuICAgIHRleHRDb250ZW50OiAnVE8gREVXJ1xuICB9KVxuKVxuXG5jb25zdCBuYXZCYXIgPSBtYWtlRWxlbWVudCh7dHlwZTogJ25hdid9KTtcbm5hdkJhci5hcHBlbmQoXG4gIG1ha2VFbGVtZW50KHtcbiAgICB0eXBlOiAnc3BhbicsXG4gICAgdGV4dENvbnRlbnQ6ICdNeSBGb2xkZXJzJ1xuICB9KVxuKVxuXG5sZXQgbWFpbiA9IG1ha2VFbGVtZW50KHt0eXBlOiAnbWFpbid9KTtcblxuZnVuY3Rpb24gbG9hZFBhZ2UoKSB7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKFxuICAgIGhlYWRlcixcbiAgICBuYXZCYXIsXG4gICAgbWFpblxuICApXG59XG5cbmZ1bmN0aW9uIHNldFBhZ2VDb250ZW50KCBlbGVtZW50ICkge1xuICBtYWluLnJlcGxhY2VXaXRoKCBlbGVtZW50IClcbiAgbWFpbiA9IGVsZW1lbnRcbn1cbiIsImltcG9ydCB7IG1ha2VFbGVtZW50IH0gZnJvbSBcIi4vZG9tLXV0aWxpdHlcIlxuXG5leHBvcnQgeyBtYWtlRm9sZGVyVmlldyB9XG5cbmZ1bmN0aW9uIG1ha2VGb2xkZXJWaWV3KCBmb2xkZXIgKXtcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKVxuXG4gIGNvbnN0IHRhc2tMaXN0ID0gbWFrZVRhc2tMaXN0RGlzcGxheSggZm9sZGVyLmdldFRhc2tzKCkgKTtcbiAgbWFpbi5hcHBlbmQodGFza0xpc3QpXG5cbiAgcmV0dXJuIG1haW5cbn1cblxuZnVuY3Rpb24gbWFrZVRhc2tMaXN0RGlzcGxheSggdGFza0xpc3QgKXtcbiAgY29uc3Qgb3V0cHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICBvdXRwdXQuaWQgPSAndGFzay1saXN0J1xuICB0YXNrTGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xuICAgIGNvbnN0IGNhcmQgPSBtYWtlVGFza0NhcmQoIHRhc2sgKVxuICAgIG91dHB1dC5hcHBlbmQoY2FyZClcbiAgfSk7XG4gIHJldHVybiBvdXRwdXRcbn1cblxuZnVuY3Rpb24gbWFrZVRhc2tDYXJkKCB0YXNrICkge1xuICBjb25zdCBvdXRwdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb3V0cHV0LmNsYXNzTGlzdC5hZGQoJ2NhcmQnKVxuXG4gIG91dHB1dC5hcHBlbmQoXG4gICAgbWFrZUVsZW1lbnQoe1xuICAgICAgdHlwZTogJ2gzJyxcbiAgICAgIGNsYXNzTGlzdDogWyd0aXRsZSddLFxuICAgICAgdGV4dENvbnRlbnQ6IHRhc2sudGl0bGVcbiAgICB9KSxcbiAgICBtYWtlRWxlbWVudCh7XG4gICAgICB0eXBlOiAnc3BhbicsXG4gICAgICBjbGFzc0xpc3Q6IFsnc3VidGl0bGUnXSxcbiAgICAgIHRleHRDb250ZW50OiBsaW1pdENoYXJhY3RlcnMoNTAsIHRhc2suZGVzY3JpcHRpb24pXG4gICAgfSlcbiAgKVxuICByZXR1cm4gb3V0cHV0XG59XG5cbmZ1bmN0aW9uIGxpbWl0Q2hhcmFjdGVycyggbWF4TGVuZ3RoLCBzdHJpbmcgPSAnJyl7XG4gIGlmKCFzdHJpbmcpIHJldHVyblxuICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZygwLCBtYXhMZW5ndGgtMykgKyAnLi4uJ1xufSIsImltcG9ydCB7IEZvbGRlciB9IGZyb20gXCIuL2xvZ2ljL2ZvbGRlclwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL2xvZ2ljL3Rhc2tcIjtcbmltcG9ydCB7IGxvYWRQYWdlLCBzZXRQYWdlQ29udGVudCB9IGZyb20gXCIuL2Rpc3BsYXkvaG9tZVwiO1xuaW1wb3J0IHsgbWFrZURhc2hib2FyZCB9IGZyb20gXCIuL2Rpc3BsYXkvZGFzaGJvYXJkXCI7XG5pbXBvcnQgeyBtYWtlRm9sZGVyVmlldyB9IGZyb20gXCIuL2Rpc3BsYXkvZm9sZGVyLXZpZXdcIjtcbmltcG9ydCB7IG1ha2VFbGVtZW50IH0gZnJvbSBcIi4vZGlzcGxheS9kb20tdXRpbGl0eVwiO1xuXG5sb2FkUGFnZSgpXG5cbi8vIGhhcmRjb2RlZCB0YXNrcy9mb2xkZXJzXG5jb25zdCB0YXNrMSA9IFRhc2soJ1Rhc2sgMScpO1xuY29uc3QgdGFzazIgPSBUYXNrKCdUYXNrIDInLCAnVGhpcyBpcyBhIHZlcnkgbG9uZyB0ZXh0IHRoYXQgcmVzZW1ibGVzIGEgZGVzY3JpcHRpb24nKVxuY29uc3QgZm9sZGVyMSA9IEZvbGRlcignRXhhbXBsZSAxJyk7XG5jb25zdCBmb2xkZXIyID0gRm9sZGVyKCdFeGFtcGxlIDInKTtcbmZvbGRlcjEuYWRkVGFzayh0YXNrMSlcbmZvbGRlcjEuYWRkVGFzayh0YXNrMilcbmxldCBmb2xkZXJzID0gW2ZvbGRlcjEsIGZvbGRlcjJdO1xuXG5jb25zdCBuYXZCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYnKVxuXG5jb25zdCBkYXNoYm9hcmQgPSBtYWtlRGFzaGJvYXJkKFtmb2xkZXIxLCBmb2xkZXIyXSlcbnNldFBhZ2VDb250ZW50KCBkYXNoYm9hcmQgKVxuXG5jb25zdCBmb2xkZXJDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb2xkZXInKTtcbmZvbGRlckNhcmRzLmZvckVhY2goKGZvbGRlcikgPT4ge1xuICBmb2xkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgaWQgPSBmb2xkZXIuZGF0YXNldC51aWRcbiAgICBjb25zdCBfZm9sZGVyID0gZmluZEZvbGRlckJ5SWQoaWQpXG4gICAgb3BlbkZvbGRlclZpZXcoIF9mb2xkZXIgKVxuICB9KVxufSlcblxuZnVuY3Rpb24gb3BlbkZvbGRlclZpZXcoIGZvbGRlciApe1xuICBjb25zdCBuYXZUYWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgbmF2VGFiLnRleHRDb250ZW50ID0gZm9sZGVyLnRpdGxlXG4gIG5hdlRhYi5kYXRhc2V0LnVpZCA9IGZvbGRlci51aWRcblxuICBuYXZCYXIuYXBwZW5kKCBuYXZUYWIgKVxuICBjb25zdCBmb2xkZXJWaWV3ID0gbWFrZUZvbGRlclZpZXcoIGZvbGRlciApO1xuICBzZXRQYWdlQ29udGVudCggZm9sZGVyVmlldyApXG59XG5cbmZ1bmN0aW9uIGZpbmRGb2xkZXJCeUlkKCBpZCApe1xuICByZXR1cm4gZm9sZGVycy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50LnVpZCA9PT0gaWQpXG59Il0sIm5hbWVzIjpbIkZvbGRlciIsInRpdGxlIiwiY29sb3IiLCJpY29uIiwidGFza3MiLCJ1aWQiLCJnZW5lcmF0ZVVpZCIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImdldFRhc2tzIiwicmVtb3ZlVGFzayIsInRhc2tVaWQiLCJpbmRleCIsImZpbmRJbmRleCIsImNvbnNvbGUiLCJsb2ciLCJzcGxpY2UiLCJpZEFycmF5Iiwib3V0cHV0IiwibGVuZ3RoIiwiY2hhcmFjdGVycyIsImkiLCJNYXRoIiwicmFuZG9tIiwidG9GaXhlZCIsInJhbmRvbVN0cmluZyIsImlkIiwiYXJyYXkiLCJldmVyeSIsIlRhc2siLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNvbW1lbnRNYW5hZ2VyIiwiY29tbWVudHMiLCJnZXRDb21tZW50cyIsImFkZENvbW1lbnQiLCJjb21tZW50IiwiQ29tbWVudE1hbmFnZXIiLCJkYXRlTWFuYWdlciIsInNldER1ZURhdGUiLCJpbnB1dCIsIm5ld0RhdGUiLCJEYXRlIiwiaXNOYU4iLCJkYXRlSXNWYWxpZCIsIndhcm4iLCJnZXREdWVEYXRlIiwiRGF0ZU1hbmFnZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJpc0RvbmUiLCJtYWtlRWxlbWVudCIsIm9iaiIsImhhc093blByb3BlcnR5IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImtleSIsImNhbGwiLCJidXR0b25OZXdGb2xkZXIiLCJjbGFzc0xpc3QiLCJhcHBlbmQiLCJuYW1lIiwiYWRkIiwic2V0QXR0cmlidXRlIiwibWFrZUljb24iLCJ0ZXh0Q29udGVudCIsImhlYWRlciIsInNyYyIsIm5hdkJhciIsIm1haW4iLCJzZXRQYWdlQ29udGVudCIsImVsZW1lbnQiLCJyZXBsYWNlV2l0aCIsImxpbWl0Q2hhcmFjdGVycyIsIm1heExlbmd0aCIsInN0cmluZyIsInN1YnN0cmluZyIsImJvZHkiLCJ0YXNrMSIsInRhc2syIiwiZm9sZGVyMSIsImZvbGRlcjIiLCJmb2xkZXJzIiwicXVlcnlTZWxlY3RvciIsImRhc2hib2FyZCIsImZvckVhY2giLCJpdGVtIiwiY2FyZCIsImZvbGRlciIsImRhdGFzZXQiLCJpdGVtQ291bnQiLCJjb3VudCIsIm1ha2VGb2xkZXJDYXJkIiwibWFrZURhc2hib2FyZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwibmF2VGFiIiwiZm9sZGVyVmlldyIsInRhc2tMaXN0IiwibWFrZVRhc2tDYXJkIiwibWFrZVRhc2tMaXN0RGlzcGxheSIsIm1ha2VGb2xkZXJWaWV3Iiwib3BlbkZvbGRlclZpZXciLCJmaW5kIl0sInNvdXJjZVJvb3QiOiIifQ==